# Описание дистрибутива Fedore CoreOs

Отличительными особенностями дистрибутива Fedore CoreOs являются:
- отсутствие этапа "ручной" настройки. Все нижеописанные настройки задаются в файле в формате ignition передаваемому параметром команде формирования загрузочного образа дистрибутива `coreos-installer` 
- использование `ostree` для обеспечения "атомарного" обновления дистрибутива. При добавлении удалении пакетов командой `rpm-ostree` формируется новый слой ПО, который становится доступном только после перезагрузки ОС.
- четкая классификация корневых директориев:
  * `/usr/` - неизменяемая в рамках текущей загрузки часть программного кода (пакетов), обычно монтируется в режиме `только на чтение`
  * `/etc/` - конфигурационная часть программного кода, во время обновления пакетов либо не модифицируется, либо донастраивается скриптами пакета;'
  * `/var/` - изменяемая часть - логи, домашние директории пользователей, обрабатываемые данные;
  * остальные корневые директории либо носят служебный (/dev/) и временный характер (/tmp), либо символически прилинкованы к поддиректориям перечисленным выше жиректориев.
  


## Ignition

Файл формата ignition (суффикс .ign) обеспечивает:
- разбиение дисков на партиции (storag.disks.device.patrition, storage.filesystems);
 - создание пользователей (passwd.users) и групп (passwd.groups);
  - запуск и конфигурирование сервисов (systems.units) включая docker-контейнеры;
  - добавление или замена директориев (storage.directories) и(конфигурационных) файлов (storage.files, storage.links), что позволяет сконфигурировать:
    * сетевые интерфейсы (storage.files.path=/etc/NetworkManager/system-connections/...);  
    * параметры ядра (rpm-ostree kargs ..., storage.files.path=/etc/sysctl.d/...).
